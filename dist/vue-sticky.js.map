{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 50037bb9c9e8a73dfce3","webpack:///./src/index.js","webpack:///./src/sticky.js","webpack:///./~/sticky-js/index.js","webpack:///./~/sticky-js/dist/sticky.compile.js"],"names":["Vue","directive","bind","val","el","parentElement","setAttribute","className","update","marginTop","forName"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACtCA;;;;;;mBAEe,UAACA,GAAD,EAAS;AACtBA,OAAIC,SAAJ,CAAc,QAAd;AACD,E;;;;;;;;;;;;ACJD;;;;;;mBAEe;AACbC,OADa,gBACRC,GADQ,EACH;AACR,UAAKC,EAAL,CAAQC,aAAR,CAAsBC,YAAtB,CAAmC,uBAAnC,EAA4D,EAA5D;AACA,UAAKF,EAAL,CAAQG,SAAR,IAAqB,SAArB;AACD,IAJY;AAMbC,SANa,kBAMNL,GANM,EAMD;AACV,SAAIA,GAAJ,EAAS;AACP,WAAIA,IAAIM,SAAR,EAAmB;AAAE,cAAKL,EAAL,CAAQE,YAAR,CAAqB,iBAArB,EAAwCH,IAAIM,SAA5C;AAAyD;AAC9E,WAAIN,IAAIO,OAAR,EAAiB;AAAE,cAAKN,EAAL,CAAQE,YAAR,CAAqB,iBAArB,EAAwCH,IAAIO,OAA5C;AAAuD;AAC1E,WAAIP,IAAII,SAAR,EAAmB;AAAE,cAAKH,EAAL,CAAQE,YAAR,CAAqB,mBAArB,EAA0CH,IAAII,SAA9C;AAA2D;AACjF;;AAED,4BAAW,SAAX;AACD;AAdY,E;;;;;;;ACDf;;AAEA;;;;;;;ACHA,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO,6EAA6E,OAAO;AACxG;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,cAAa,KAAK;AAClB;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,KAAK;AAClB;;;AAGA;AACA;;AAEA,wBAAuB,oBAAoB;;AAE3C;;AAEA,wBAAuB,eAAe;;AAEtC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,KAAK;AAClB;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,KAAK;AAClB;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa,KAAK;AAClB;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,KAAK;AAClB;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,KAAK;AAClB;;;AAGA;AACA,wBAAuB,6CAA6C;;AAEpE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;;AAEA;AACA,kJAAiJ;AACjJ,QAAO;AACP;;AAEA,4BAA2B,uCAAuC;AAClE;AACA,MAAK;AACL;;AAEA,0BAAyB,6CAA6C;AACtE;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,cAAa,KAAK;AAClB,eAAc,KAAK;AACnB;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa,KAAK;AAClB,eAAc;AACd;;;AAGA;AACA,wBAAuB,6CAA6C;;AAEpE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL,aAAY;AACZ;;AAEA;AACA;AACA;AACA,eAAc;AACd;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb,cAAa,SAAS;AACtB;;;AAGA;AACA,wCAAuC,SAAS;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,KAAK;AAClB,cAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA,EAAC,gB","file":"vue-sticky.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue-sticky\"] = factory();\n\telse\n\t\troot[\"vue-sticky\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 50037bb9c9e8a73dfce3","import stickyDirectice  from './sticky';\n\nexport default (Vue) => {\n  Vue.directive('sticky',  stickyDirectice);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Sticky from 'sticky-js';\n\nexport default {\n  bind(val) {\n    this.el.parentElement.setAttribute('data-sticky-container', '');\n    this.el.className += ' sticky';\n  },\n\n  update(val) {\n    if (val) {\n      if (val.marginTop) { this.el.setAttribute('data-margin-top', val.marginTop); }\n      if (val.forName) { this.el.setAttribute('data-sticky-for', val.forName); }\n      if (val.className) { this.el.setAttribute('data-sticky-class', val.className); }\n    }\n\n    new Sticky('.sticky');\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/sticky.js","\r\nvar Sticky = require('./dist/sticky.compile.js');\r\n\r\nmodule.exports = Sticky;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/sticky-js/index.js\n// module id = 2\n// module chunks = 0","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Sticky.js\n * Library for sticky elements written in vanilla javascript. With this library you can easily set sticky elements on your website. It's also responsive.\n *\n * @version 1.1.4\n * @author Rafal Galus <biuro@rafalgalus.pl>\n * @website https://rgalus.github.io/sticky-js/\n * @repo https://github.com/rgalus/sticky-js\n * @license https://github.com/rgalus/sticky-js/blob/master/LICENSE\n */\n\nvar Sticky = function () {\n  /**\n   * Sticky instance constructor\n   * @constructor\n   * @param {string} selector - Selector which we can find elements\n   * @param {string} options - Global options for sticky elements (could be overwritten by data-{option}=\"\" attributes)\n   */\n  function Sticky() {\n    var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Sticky);\n\n    this.selector = selector;\n    this.elements = [];\n\n    this.version = '1.1.4';\n\n    this.vp = this.getViewportSize();\n    this.scrollTop = this.getScrollTopPosition();\n\n    this.options = {\n      marginTop: options.marginTop || 0,\n      stickyFor: options.stickFor || 0,\n      stickyClass: options.stickyClass || null\n    };\n\n    this.run();\n  }\n\n  /**\n   * Function that waits for page to be fully loaded and then renders & activates every sticky element found with specified selector\n   * @function\n   */\n\n\n  Sticky.prototype.run = function run() {\n    var _this = this;\n\n    // wait for page to be fully loaded\n    var pageLoaded = setInterval(function () {\n      if (document.readyState === 'complete') {\n        clearInterval(pageLoaded);\n\n        var elements = document.querySelectorAll(_this.selector);\n        _this.forEach(elements, function (element) {\n          return _this.renderElement(element);\n        });\n      }\n    }, 10);\n  };\n\n  /**\n   * Function that assign needed variables for sticky element, that are used in future for calculations and other\n   * @function\n   * @param {node} element - Element to be rendered\n   */\n\n\n  Sticky.prototype.renderElement = function renderElement(element) {\n    var _this2 = this;\n\n    // create container for variables needed in future\n    element.sticky = {};\n\n    // set default variables\n    element.sticky.active = false;\n\n    element.sticky.marginTop = parseInt(element.getAttribute('data-margin-top')) || this.options.marginTop;\n    element.sticky.stickyFor = parseInt(element.getAttribute('data-sticky-for')) || this.options.stickyFor;\n    element.sticky.stickyClass = element.getAttribute('data-sticky-class') || this.options.stickyClass;\n\n    element.sticky.container = this.getStickyContainer(element);\n    element.sticky.container.rect = this.getRectangle(element.sticky.container);\n\n    element.sticky.rect = this.getRectangle(element);\n\n    // fix when element is image that has not yet loaded and width, height = 0\n    if (element.tagName.toLowerCase === 'img') {\n      element.onload = function () {\n        return element.sticky.rect = _this2.getRectangle(element);\n      };\n    }\n\n    // activate rendered element\n    this.activate(element);\n  };\n\n  /**\n   * Function that activates element when specified conditions are met and then initalise events\n   * @function\n   * @param {node} element - Element to be activated\n   */\n\n\n  Sticky.prototype.activate = function activate(element) {\n    var heightBefore = element.sticky.container.offsetHeight;\n\n    this.css(element, { position: 'fixed' });\n\n    var heightAfter = element.sticky.container.offsetHeight;\n\n    this.css(element, { position: '' });\n\n    if (heightAfter >= heightBefore && element.sticky.stickyFor < this.vp.width && !element.sticky.active) {\n      element.sticky.active = true;\n    }\n\n    if (this.elements.indexOf(element) < 0) {\n      this.elements.push(element);\n    }\n\n    if (!element.sticky.resizeEvent) {\n      this.initResizeEvents(element);\n      element.sticky.resizeEvent = true;\n    }\n\n    if (!element.sticky.scrollEvent) {\n      this.initScrollEvents(element);\n      element.sticky.scrollEvent = true;\n    }\n  };\n\n  /**\n   * Function which is adding onResizeEvents to window listener and assigns function to element as resizeListener\n   * @function\n   * @param {node} element - Element for which resize events are initialised\n   */\n\n\n  Sticky.prototype.initResizeEvents = function initResizeEvents(element) {\n    var _this3 = this;\n\n    element.sticky.resizeListener = function () {\n      return _this3.onResizeEvents(element);\n    };\n    window.addEventListener('resize', element.sticky.resizeListener);\n  };\n\n  /**\n   * Function which is fired when user resize window. It checks if element should be activated or deactivated and then run setPosition function\n   * @function\n   * @param {node} element - Element for which event function is fired\n   */\n\n\n  Sticky.prototype.onResizeEvents = function onResizeEvents(element) {\n    this.vp = this.getViewportSize();\n\n    element.sticky.rect = this.getRectangle(element);\n    element.sticky.container.rect = this.getRectangle(element.sticky.container);\n\n    if (element.sticky.stickyFor < this.vp.width && !element.sticky.active) {\n      element.sticky.active = true;\n    } else if (element.sticky.stickyFor >= this.vp.width && element.sticky.active) {\n      element.sticky.active = false;\n    }\n\n    this.setPosition(element);\n  };\n\n  /**\n   * Function which is adding onScrollEvents to window listener and assigns function to element as scrollListener\n   * @function\n   * @param {node} element - Element for which scroll events are initialised\n   */\n\n\n  Sticky.prototype.initScrollEvents = function initScrollEvents(element) {\n    var _this4 = this;\n\n    element.sticky.scrollListener = function () {\n      return _this4.onScrollEvents(element);\n    };\n    window.addEventListener('scroll', element.sticky.scrollListener);\n  };\n\n  /**\n   * Function which is fired when user scroll window. If element is active, function is invoking setPosition function\n   * @function\n   * @param {node} element - Element for which event function is fired\n   */\n\n\n  Sticky.prototype.onScrollEvents = function onScrollEvents(element) {\n    this.scrollTop = this.getScrollTopPosition();\n\n    if (element.sticky.active) {\n      this.setPosition(element);\n    }\n  };\n\n  /**\n   * Main function for the library. Here are some condition calculations and css appending for sticky element when user scroll window\n   * @function\n   * @param {node} element - Element that will be positioned if it's active\n   */\n\n\n  Sticky.prototype.setPosition = function setPosition(element) {\n    this.css(element, { position: '', width: '', top: '', left: '' });\n\n    if (this.vp.height < element.sticky.rect.height || !element.sticky.active) {\n      return;\n    }\n\n    if (!element.sticky.rect.width) {\n      element.sticky.rect = this.getRectangle(element);\n    }\n\n    if (this.scrollTop > element.sticky.rect.top - element.sticky.marginTop) {\n      this.css(element, {\n        position: 'fixed',\n        width: element.sticky.rect.width + 'px',\n        left: element.sticky.rect.left + 'px'\n      });\n\n      if (this.scrollTop + element.sticky.rect.height + element.sticky.marginTop > element.sticky.container.rect.top + element.sticky.container.offsetHeight) {\n\n        if (element.sticky.stickyClass) element.classList.remove(element.sticky.stickyClass);\n\n        this.css(element, {\n          top: element.sticky.container.rect.top + element.sticky.container.offsetHeight - (this.scrollTop + element.sticky.rect.height) + 'px' });\n      } else {\n        if (element.sticky.stickyClass) element.classList.add(element.sticky.stickyClass);\n\n        this.css(element, { top: element.sticky.marginTop + 'px' });\n      }\n    } else {\n      if (element.sticky.stickyClass) element.classList.remove(element.sticky.stickyClass);\n\n      this.css(element, { position: '', width: '', top: '', left: '' });\n    }\n  };\n\n  /**\n   * Function that updates element sticky rectangle (with sticky container), then activate or deactivate element, then update position if it's active\n   * @function\n   */\n\n\n  Sticky.prototype.update = function update() {\n    var _this5 = this;\n\n    this.forEach(this.elements, function (element) {\n      element.sticky.rect = _this5.getRectangle(element);\n      element.sticky.container.rect = _this5.getRectangle(element.sticky.container);\n\n      _this5.activate(element);\n      _this5.setPosition(element);\n    });\n  };\n\n  /**\n   * Function that returns container element in which sticky element is stuck (if is not specified, then it's stuck to body)\n   * @function\n   * @param {node} element - Element which sticky container are looked for\n   * @return {node} element - Sticky container\n   */\n\n\n  Sticky.prototype.getStickyContainer = function getStickyContainer(element) {\n    var container = element;\n\n    while (!container.hasAttribute('data-sticky-container') && container !== document.querySelector('body')) {\n      container = container.parentNode;\n    }\n\n    return container;\n  };\n\n  /**\n   * Function that returns element rectangle & position (width, height, top, left)\n   * @function\n   * @param {node} element - Element which position & rectangle are returned\n   * @return {object}\n   */\n\n\n  Sticky.prototype.getRectangle = function getRectangle(element) {\n    this.css(element, { position: '', width: '', top: '', left: '' });\n\n    var width = Math.max(element.offsetWidth, element.clientWidth, element.scrollWidth);\n    var height = Math.max(element.offsetHeight, element.clientHeight, element.scrollHeight);\n\n    var top = 0;\n    var left = 0;\n\n    do {\n      top += element.offsetTop || 0;\n      left += element.offsetLeft || 0;\n      element = element.offsetParent;\n    } while (element);\n\n    return { top: top, left: left, width: width, height: height };\n  };\n\n  /**\n   * Function that returns viewport dimensions\n   * @function\n   * @return {object}\n   */\n\n\n  Sticky.prototype.getViewportSize = function getViewportSize() {\n    return {\n      width: Math.max(document.documentElement.clientWidth, window.innerWidth || 0),\n      height: Math.max(document.documentElement.clientHeight, window.innerHeight || 0)\n    };\n  };\n\n  /**\n   * Function that returns scroll position offset from top\n   * @function\n   * @return {number}\n   */\n\n\n  Sticky.prototype.getScrollTopPosition = function getScrollTopPosition() {\n    return (window.pageYOffset || document.scrollTop) - (document.clientTop || 0) || 0;\n  };\n\n  /**\n   * Helper function for loops\n   * @helper\n   * @param {array}\n   * @param {function} callback - Callback function (no need for explanation)\n   */\n\n\n  Sticky.prototype.forEach = function forEach(array, callback) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      callback(array[i]);\n    }\n  };\n\n  /**\n   * Helper function to add/remove css properties for specified element.\n   * @helper\n   * @param {node} element - DOM element\n   * @param {object} properties - CSS properties that will be added/removed from specified element\n   */\n\n\n  Sticky.prototype.css = function css(element, properties) {\n    for (var property in properties) {\n      if (properties.hasOwnProperty(property)) {\n        element.style[property] = properties[property];\n      }\n    }\n  };\n\n  return Sticky;\n}();\n\n/**\n * Export function that supports AMD, CommonJS and Plain Browser.\n */\n\n\n(function (root, factory) {\n  if (typeof exports !== 'undefined') {\n    module.exports = factory;\n  } else if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else {\n    root.Sticky = factory;\n  }\n})(this, Sticky);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/sticky-js/dist/sticky.compile.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}